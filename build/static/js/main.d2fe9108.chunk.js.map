{"version":3,"sources":["img/logo.svg","img/sign.svg","components/functions/context.js","components/navbar/NavBar.js","components/functions/secondaryFunctions.js","components/menu/ListItem.js","img/banner.png","components/menu/Menu.js","components/Hooks/useFetch.js","components/styles/ButtonCheckout.js","components/modal/CountItem.js","components/modal/Toppings.js","components/modal/Choices.js","components/modal/ModalItem.js","components/Hooks/useCount.js","components/Hooks/useToppings.js","components/Hooks/useChoices.js","components/styles/GlobalStyle.js","img/trash.svg","components/order/OrderListItem.js","components/order/Order.js","components/order/OrderConfirm.js","App.js","components/Hooks/useAuth.js","components/Hooks/useOpenItem.js","components/Hooks/useOrders.js","components/Hooks/UseOrderConfirm.js","components/Hooks/useTitle.js","reportWebVitals.js","index.js"],"names":["Context","React","createContext","NavBarStyled","styled","header","Logo","div","H1","h1","ImgLogo","img","LoginLogo","LoginBlock","a","User","LogOut","span","Figure","figure","NavBar","useContext","auth","authentication","logIn","logOut","src","logoImg","alt","LoginImg","displayName","title","onClick","href","totalPriceItems","order","countTopping","topping","filter","item","checked","length","priceTopping","price","count","formatCurrency","e","toLocaleString","style","currency","List","ul","Item","li","ListItem","itemList","setOpenItem","openItem","map","name","id","MenuStyled","main","SectionMenu","section","MainBanner","Menu","res","useState","response","setResponse","error","setError","useEffect","fetch","json","useFetch","dbMenu","mainBannerImage","burger","other","ButtonCheckout","button","CountWrap","CountInput","input","CountButton","CountItem","setCount","onChange","disabled","type","min","max","value","ToppingWrap","ToppingLabel","label","ToppingCheckbox","Toppings","toppings","checkToppings","i","ChoiceWrap","ChoiceLabel","ChoiceRadio","Choices","choice","changeChoices","choices","Overlay","Modal","Content","HeaderContent","Banner","TotalPriceItem","ModalItem","orders","setOrders","counter","startCount","target","useCount","readyTopping","getToppings","setToppings","index","newItem","useToppings","setChoice","useChoices","isEdit","newOrders","GlobalStyle","createGlobalStyle","OrderItemStyled","ItemName","ItemPrice","TrashButton","trashImg","OrderListItem","deleteItem","join","refDeleteButton","useRef","current","ref","OrderStyles","OrderTitle","h2","OrderContent","OrderList","EmptyList","p","Total","TotalPrice","Order","setOpenOrderConfirm","orderConfirm","total","reduce","result","totalCounter","Text","h3","rulesData","itemName","arr","obj","sendOrder","dataBase","newOrder","rules","keys","Object","newObj","key","val","fn","projection","push","set","nameClient","email","OrderConfirm","firebaseDatabase","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","App","authFirebase","setAuthentication","provider","GoogleAuthProvider","onAuthStateChanged","user","signInWithPopup","signOut","catch","err","console","useAuth","useOpenItem","useOrders","openOrderConfirm","useOrderConfirm","document","useTitle","Provider","database","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d2fe9108.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03f3b0f4.svg\";","export default __webpack_public_path__ + \"static/media/sign.b9361011.svg\";","import React from 'react';\r\n\r\nexport const Context = React.createContext()","import React, {useContext} from 'react';\r\nimport styled from 'styled-components';\r\nimport logoImg from '../../img/logo.svg';\r\nimport LoginImg from '../../img/sign.svg';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\nconst NavBarStyled = styled.header`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 999;\r\n  background-color: #299b01;\r\n  color: white;\r\n  width: 100%;\r\n  padding: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst H1 = styled.h1`\r\n  font-size: 24px;\r\n  margin-left: 15px;\r\n`;\r\n\r\nconst ImgLogo = styled.img`\r\n  width: 50px;\r\n`;\r\n\r\nconst LoginLogo = styled.img`\r\n  color: white;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst LoginBlock = styled.a`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst User = styled.div`\r\n  display:flex;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst LogOut = styled.span`\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  cursor:pointer;\r\n  margin-right: 30px;\r\n`;\r\n\r\nconst Figure = styled.figure`\r\n  margin: 0 30px;\r\n  text-align: center;\r\n`;\r\n\r\n\r\nexport const NavBar = () => {\r\n  const {auth: {authentication, logIn, logOut}} = useContext(Context);\r\n\r\n  return (\r\n    <NavBarStyled>\r\n      <Logo>\r\n        <ImgLogo src= {logoImg} alt=\"logo\"/>\r\n        <H1>MrDonalds's</H1>\r\n      </Logo>\r\n\r\n      {authentication ?\r\n        <User>\r\n          <Figure>\r\n            <LoginLogo src= {LoginImg} alt={authentication.displayName}/>\r\n            <figcaption>{authentication.displayName}</figcaption>\r\n          </Figure>\r\n          <LogOut title='Выйти' onClick={logOut}>X</LogOut>\r\n        </User>\r\n        :\r\n        <LoginBlock onClick={logIn} href=\"#!\">\r\n          <Figure>\r\n            <LoginLogo src= {LoginImg} alt=\"Login logo\"/>\r\n            <figcaption>Войти</figcaption>\r\n          </Figure>\r\n        </LoginBlock>\r\n      }\r\n    </NavBarStyled>\r\n  )\r\n};","export const totalPriceItems = order => {\r\n  const countTopping = order.topping && order.topping.filter(item => item.checked).length\r\n\r\n  const priceTopping = (order.price * 0.1) * countTopping\r\n\r\n  return (order.price + priceTopping) * order.count;\r\n}\r\n\r\nexport const formatCurrency = e => {\r\n  return e.toLocaleString('ru-RU', {\r\n    style: 'currency', currency: 'RUB'\r\n})}\r\n\r\nexport const projection = rules => {\r\n  const keys = Object.keys(rules)\r\n  return obj => keys.reduce((newObj, key) => {\r\n    newObj[key] = rules[key].reduce((val, fn, i) => (i ? fn(val) : obj[fn]), null)\r\n    return newObj;\r\n  }, {})\r\n};\r\n\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { formatCurrency }  from '../functions/secondaryFunctions';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\nconst List = styled.ul`\r\n  display:flex;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n\r\n`;\r\nconst Item = styled.li`\r\n  position: relative;\r\n  width: 400px;\r\n  height: 155px;\r\n  background: ${({img}) => `url(${img})`} center;\r\n  background-size: cover;\r\n  margin-top: 30px;\r\n  margin-right: 30px;\r\n  padding: 15px;\r\n  color: white;\r\n  font-size: 30px;\r\n  z-index: 1;\r\n  transition: box-shadow .3s ease;\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n    background-color: #000;\r\n    opacity: 30%;\r\n    z-index: -1;\r\n    box-shadow: none;\r\n    transition: background-color .35s ease;\r\n  }\r\n  &:hover {\r\n    cursor:pointer;\r\n    box-shadow: inset 0 0 30px 10px black;\r\n    &:after {\r\n      background-color: rgba(0,0,0,0);\r\n      \r\n   \r\n    }\r\n  }\r\n  \r\n  \r\n  \r\n\r\n`;\r\n\r\nexport const ListItem = ({ itemList }) => {\r\n  const { openItem: { setOpenItem } } = useContext(Context);\r\n\r\n\r\n  return (\r\n    <List>\r\n      {itemList.map(item => (\r\n        <Item\r\n          key={item.id}\r\n          img={item.img}\r\n          onClick={() => setOpenItem(item)}>\r\n          <p>{item.name}</p>\r\n          <p>{formatCurrency(item.price)}</p>\r\n\r\n        </Item>\r\n      ))}\r\n\r\n    </List>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/banner.9b6cf3ee.png\";","import React, {useContext} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ListItem } from './ListItem';\r\nimport { useFetch } from \"../Hooks/useFetch\";\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\n// IMAGES\r\nimport mainBannerImage from '../../img/banner.png';\r\n\r\nconst MenuStyled = styled.main`\r\n  background-color: #ccc;\r\n  margin-top: 80px;\r\n  margin-left: 380px;\r\n`;\r\n\r\nconst SectionMenu = styled.section`\r\n  padding: 30px;\r\n`;\r\n\r\nconst MainBanner = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n\r\n\r\n\r\n\r\n\r\nexport const Menu = ( ) => {\r\n  const { openItem:  {setOpenItem}} = useContext(Context)\r\n\r\n  const res = useFetch()\r\n\r\n  const dbMenu = res.response\r\n\r\n  return (\r\n    <MenuStyled>\r\n      <MainBanner>\r\n        <img src= {mainBannerImage} alt=\"Главный баннер\"/>\r\n      </MainBanner>\r\n      {res.response ?\r\n        <>\r\n          <SectionMenu>\r\n            <h2>Бургеры </h2>\r\n            <ListItem\r\n              itemList={dbMenu.burger}\r\n              setOpenItem={setOpenItem}\r\n            />\r\n          </SectionMenu>\r\n\r\n          <SectionMenu>\r\n            <h2>Закуски / Напитки </h2>\r\n            <ListItem\r\n              itemList={dbMenu.other}\r\n              setOpenItem={setOpenItem}\r\n            />\r\n          </SectionMenu>\r\n        </> : res.error ?\r\n        <div>Sorry, we eill fix it</div> :\r\n        <div>Loading... Please wait</div>\r\n      }\r\n\r\n\r\n    </MenuStyled>\r\n  )\r\n};","import { useState, useEffect } from 'react';\r\n\r\nexport const useFetch = () => {\r\n  const [response, setResponse] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async() => {\r\n      try {\r\n          const json = await fetch('DB.json');\r\n          const res = await json.json();\r\n          setResponse(res);\r\n      } catch (err) {\r\n          setError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return { response, error }\r\n}","import styled from 'styled-components';\r\n\r\n\r\n\r\nexport const ButtonCheckout = styled.button`\r\n  display:block;\r\n  margin: 0 auto;\r\n  height: 65px;\r\n  background-color: #299B01;\r\n  color: white;\r\n  font-size: 21px;\r\n  padding: 20px 70px;\r\n  border: none;\r\n  outline: none;\r\n  &:disabled {\r\n    color: #bbb;\r\n    background-color: #ccc;\r\n    border-color: #aaa;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst CountWrap = styled.div`\r\n  display:flex;\r\n  justify-content:space-between;\r\n`;\r\n\r\nconst CountInput = styled.input`\r\n  width: 50px;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst CountButton = styled.button`\r\n  background-color: transparent;\r\n  width: 40px;\r\n`;\r\n\r\n\r\n\r\nexport function CountItem({ count, setCount, onChange }) {\r\n\r\n  return (\r\n    <CountWrap>\r\n      <span>Количество</span>\r\n      <div>\r\n        <CountButton disabled={count <= 1} onClick={() => setCount(count - 1)}>-</CountButton>\r\n        <CountInput type='number' min='1' max='100' value={count < 1 ? 1 : count} onChange={onChange}/>\r\n        <CountButton onClick={() => setCount(count + 1)}>+</CountButton>\r\n      </div>\r\n\r\n    </CountWrap>\r\n  )\r\n}","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ToppingWrap = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 500px;\r\n  column-count: 2;\r\n  column-gap: 15px;\r\n`;\r\n\r\nconst ToppingLabel = styled.label`\r\n  cursor: pointer;\r\n  display: block;\r\n  \r\n`;\r\n\r\nconst ToppingCheckbox = styled.input`\r\n  cursor: pointer;\r\n  margin-right: 5px;\r\n`;\r\n\r\n\r\nexport function Toppings({ toppings, checkToppings }) {\r\n  return (\r\n    <>\r\n      <h3>Добавки</h3>\r\n      <ToppingWrap>\r\n        {toppings.map((item, i) => (\r\n          <ToppingLabel key={i}>\r\n            <ToppingCheckbox\r\n              type=\"checkbox\"\r\n              checked={item.checked}\r\n              onChange={() => checkToppings(i)}\r\n            />\r\n            {item.name}\r\n          </ToppingLabel>\r\n        ))}\r\n      </ToppingWrap>\r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst ChoiceWrap = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 500px;\r\n  column-count: 2;\r\n  column-gap: 15px;\r\n`;\r\n\r\nconst ChoiceLabel = styled.label`\r\n  cursor: pointer;\r\n  display: block;\r\n  \r\n`;\r\n\r\nconst ChoiceRadio = styled.input`\r\n  cursor: pointer;\r\n  margin-right: 5px;\r\n`;\r\n\r\nexport function Choices({ openItem, choice, changeChoices }) {\r\n  return (\r\n    <>\r\n      <h3>Выбирайте: </h3>\r\n      <ChoiceWrap>\r\n        {openItem.choices.map((item, i) => (\r\n          <ChoiceLabel key={i}>\r\n            <ChoiceRadio\r\n              type=\"radio\"\r\n              name=\"choices\"\r\n              checked={choice === item}\r\n              value={item}\r\n              onChange={changeChoices}\r\n            />\r\n            {item}\r\n          </ChoiceLabel>\r\n        ))}\r\n      </ChoiceWrap>\r\n    </>\r\n  )\r\n\r\n}","import React, {useContext} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ButtonCheckout }  from '../styles/ButtonCheckout';\r\nimport { CountItem }  from './CountItem';\r\nimport { useCount }  from '../Hooks/useCount';\r\nimport { totalPriceItems, formatCurrency }  from '../functions/secondaryFunctions';\r\nimport { Toppings }  from './Toppings';\r\nimport { Choices }  from './Choices';\r\n\r\nimport { useToppings }  from '../Hooks/useToppings';\r\nimport { useChoices }  from '../Hooks/useChoices';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\nexport const Overlay = styled.div`\r\n  position:fixed;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0; \r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .5);\r\n  z-index: 20;\r\n\r\n`;\r\nconst Modal = styled.div`\r\n  width: 600px;\r\n  height: 600px;\r\n  background-color: #fff;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  padding: 30px;\r\n  display:flex;\r\n  flex-direction: column;\r\n  justify-content:space-between;\r\n  height: calc(100% - 200px);\r\n`;\r\n\r\nconst HeaderContent = styled.div`\r\n  display:flex;\r\n  justify-content: space-between;\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  font-family: 'Pacifico', cursive;\r\n`;\r\n\r\nconst Banner = styled.div`\r\n  width: 100%;\r\n  height: 200px;\r\n  background-image: url(${({img}) => img});\r\n  background-size: cover;\r\n  background-position: center;\r\n`;\r\n\r\nconst TotalPriceItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between; \r\n  \r\n`;\r\n\r\n\r\nexport const ModalItem = () => {\r\n\r\n  const {\r\n    orders: { orders, setOrders },\r\n    openItem: { openItem, setOpenItem }\r\n  } = useContext(Context)\r\n\r\n  const counter = useCount(openItem.count);\r\n  const toppings = useToppings(openItem);\r\n  const choices = useChoices(openItem);\r\n  const isEdit = openItem.index > -1;\r\n\r\n  const closeModal = e => {\r\n    if (e.target.id === 'overlay') {\r\n      setOpenItem(null)\r\n    }\r\n\r\n  }\r\n\r\n  const order = {\r\n    ...openItem,\r\n    count: counter.count,\r\n    topping: toppings.toppings,\r\n    choice: choices.choice,\r\n  };\r\n\r\n  const editOrder = () => {\r\n    const newOrders = [...orders];\r\n    newOrders[openItem.index] = order;\r\n    setOrders(newOrders);\r\n    setOpenItem(null);\r\n  }\r\n\r\n\r\n  const addToOrder = () => {\r\n    setOrders([...orders, order])\r\n    setOpenItem(null);\r\n  }\r\n\r\n\r\n  return (\r\n    <Overlay id=\"overlay\" onClick={closeModal}>\r\n      <Modal>\r\n        <Banner img={openItem.img}/>\r\n        <Content>\r\n          <HeaderContent>\r\n            <div>{openItem.name}</div>\r\n            <div>{formatCurrency(openItem.price)}</div>\r\n          </HeaderContent>\r\n\r\n          <CountItem {...counter}/>\r\n\r\n          {openItem.toppings && <Toppings {...toppings}/>}\r\n          {openItem.choices && <Choices {...choices} openItem={openItem}/>}\r\n\r\n\r\n          <TotalPriceItem>\r\n            <span>Цена:</span>\r\n            <span>{formatCurrency(totalPriceItems(order))}</span>\r\n          </TotalPriceItem>\r\n\r\n          <ButtonCheckout\r\n            onClick={isEdit ? editOrder : addToOrder}\r\n            disabled={order.choices && !order.choice}\r\n          >{isEdit ? 'Редактировать' : 'Добавить'}\r\n          </ButtonCheckout>\r\n\r\n        </Content>\r\n      </Modal>\r\n    </Overlay>\r\n  )\r\n}","import { useState } from 'react';\r\n\r\nexport function useCount(startCount) {\r\n  const [count, setCount] = useState(startCount || 1);\r\n\r\n  const onChange = e => setCount(e.target.value);\r\n\r\n  return { count, setCount, onChange }\r\n}","import { useState } from 'react';\r\n\r\nconst getToppings = toppings => toppings.map(item => ({\r\n  name: item,\r\n  checked: false\r\n\r\n}))\r\n\r\nexport function useToppings(openItem) {\r\n\r\n  const readyTopping = openItem.topping ? openItem.topping :\r\n    openItem.toppings ? getToppings(openItem.toppings) :\r\n    [];\r\n\r\n  const [toppings, setToppings] = useState(readyTopping);\r\n\r\n  const checkToppings = index => {\r\n    setToppings(toppings.map((item, i) => {\r\n      const newItem = {...item}\r\n      if (i === index) {\r\n        newItem.checked = !newItem.checked\r\n      }\r\n      return newItem;\r\n    }))\r\n  }\r\n\r\n  return {toppings, checkToppings}\r\n}","import { useState } from 'react';\r\n\r\n\r\nexport function useChoices(openItem) {\r\n  const [choice, setChoice] = useState();\r\n\r\n  function changeChoices(e) {\r\n    setChoice(e.target.value);\r\n  }\r\n\r\n  return {choice, changeChoices}\r\n\r\n}","import {createGlobalStyle} from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  \r\n\r\n  *,\r\n  *::before,\r\n  *::after {\r\n    box-sizing: border-box;\r\n  }\r\n  \r\n  \r\n  body {\r\n    margin: 0;\r\n    background-color: #f0f0f0;\r\n    font-family: Roboto, Sans-Serif;\r\n    font-size: 20px;\r\n    color: black;\r\n  }\r\n  \r\n  img {\r\n    max-width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  a {\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n  \r\n  ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  \r\n  h1, h2, h3 {\r\n    font-family: Pacifico, Sans-Serif;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  \r\n  p {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n  \r\n  button, input {\r\n    font: inherit;\r\n  }\r\n  \r\n  input [type='number'] {\r\n    -moz-appearance: textfield;\r\n    -webkit-appearance: textfield;\r\n  }\r\n  input::-webkit-outer-spin-button, \r\n  input::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  \r\n  \r\n  \r\n`;","export default __webpack_public_path__ + \"static/media/trash.949d1215.svg\";","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { totalPriceItems, formatCurrency } from '../functions/secondaryFunctions';\r\n\r\nimport trashImg from '../../img/trash.svg';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\n\r\nconst OrderItemStyled = styled.li`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 15px 0;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ItemName = styled.span`\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst ItemPrice = styled.span`\r\n  margin-left: 20px;\r\n  margin-right: 10px;\r\n  min-width: 65px;\r\n  text-align:right;\r\n`;\r\n\r\nconst TrashButton = styled.button`\r\n  width: 24px;\r\n  height: 24px;\r\n  border-color: transparent;\r\n  background: transparent url(${trashImg}) center no-repeat;\r\n  background-size: cover;\r\n  \r\n`;\r\n\r\nconst Toppings = styled.div`\r\n  width: 100%;\r\n  color: #9a9a9a;\r\n  font-size: 14px;\r\n`;\r\n\r\n\r\n\r\nexport const OrderListItem = ({ order, index, deleteItem }) => {\r\n\r\n  const { openItem: {setOpenItem } } = useContext(Context)\r\n\r\n  const topping = order.topping.filter(item => item.checked)\r\n    .map(item => item.name)\r\n    .join(', ');\r\n\r\n  const refDeleteButton = React.useRef(null);\r\n\r\n\r\n  return(\r\n    <OrderItemStyled onClick={(e) => e.target !== refDeleteButton.current && setOpenItem({...order, index})}>\r\n      <ItemName>{order.name} {order.choice}</ItemName>\r\n      <ItemPrice>{order.count}</ItemPrice>\r\n      <span>{formatCurrency(totalPriceItems(order))}</span>\r\n      <TrashButton ref={refDeleteButton} onClick={() => deleteItem(index)}/>\r\n      {topping && <Toppings>Допы: {topping}</Toppings>}\r\n    </OrderItemStyled>\r\n  )\r\n\r\n\r\n};","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ButtonCheckout }  from '../styles/ButtonCheckout';\r\nimport { OrderListItem }  from './OrderListItem';\r\nimport { totalPriceItems, formatCurrency } from '../functions/secondaryFunctions';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\n\r\nconst OrderStyles = styled.section`\r\n  position: fixed;\r\n  top: 89px;\r\n  left: 0;\r\n  display:flex;\r\n  flex-direction: column;\r\n  background-color: #fff;\r\n  width: 380px;\r\n  height: calc(100% - 89px);\r\n  box-shadow: 3px 4px 5px rgba(0, 0, 0, .25);\r\n  padding: 20px;\r\n`;\r\n\r\nexport const OrderTitle = styled.h2`\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst OrderContent = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst OrderList = styled.ul`\r\n  \r\n`;\r\nconst EmptyList = styled.p`\r\n  text-align: center;\r\n`;\r\n\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  margin: 0 35px 30px;\r\n  & span:first-child {\r\n    flex-grow: 1;\r\n  }\r\n`;\r\n\r\nexport const TotalPrice = styled.span`\r\n  text-align: right;\r\n  min-width: 65px;\r\n  margin-left: 20px;\r\n`;\r\n\r\n\r\nexport const Order = () => {\r\n\r\n  const {\r\n    auth: {authentication, logIn},\r\n    orders: { orders, setOrders },\r\n    orderConfirm: { setOpenOrderConfirm }\r\n  } = useContext(Context)\r\n\r\n\r\n  const deleteItem = index => {\r\n    const newOrders = orders.filter((item, i) =>\r\n      index !== i);\r\n\r\n\r\n    setOrders(newOrders)\r\n\r\n  }\r\n\r\n  const total = orders.reduce((result, order) =>\r\n    totalPriceItems(order) + result, 0)\r\n\r\n  const totalCounter = orders.reduce((result, order) =>\r\n    order.count + result, 0)\r\n\r\n  return (\r\n    <OrderStyles>\r\n      <OrderTitle>\r\n        Ваш заказ\r\n      </OrderTitle>\r\n      <OrderContent>\r\n        {orders.length ?\r\n        <OrderList>\r\n          {orders.map((order, index) => <OrderListItem\r\n            key={index}\r\n            order={order}\r\n            deleteItem={deleteItem}\r\n            index={index}\r\n          />)}\r\n        </OrderList> :\r\n        <EmptyList> Список заказов пуст</EmptyList>}\r\n      </OrderContent>\r\n      { orders.length ?\r\n        <>\r\n          <Total>\r\n            <span>Итого</span>\r\n            <span>{totalCounter}</span>\r\n            <TotalPrice> {formatCurrency(total)} </TotalPrice>\r\n          </Total>\r\n          <ButtonCheckout onClick={() => {\r\n            if (authentication) {\r\n              setOpenOrderConfirm(true)\r\n            } else {\r\n              logIn()\r\n            }\r\n          }}>Оформить\r\n          </ButtonCheckout>\r\n        </> : null\r\n      }\r\n    </OrderStyles>\r\n\r\n  )\r\n}","import React, {useContext} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Overlay } from '../modal/ModalItem';\r\nimport { OrderTitle, Total, TotalPrice } from './Order';\r\nimport { ButtonCheckout }  from '../styles/ButtonCheckout';\r\nimport { projection }  from '../functions/secondaryFunctions';\r\nimport { totalPriceItems } from '../functions/secondaryFunctions';\r\nimport { formatCurrency }  from '../functions/secondaryFunctions';\r\n\r\nimport { Context }  from '../functions/context';\r\n\r\n\r\nconst Modal = styled.div`\r\n  background-color:#fff;\r\n  width: 600px;\r\n  padding: 30px;\r\n`;\r\n\r\nconst Text = styled.h3`\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst rulesData = {\r\n  itemName: ['name'],\r\n  price: ['price'],\r\n  count: ['count'],\r\n  topping: ['topping', arr => arr.filter(obj => obj.checked).map(obj => obj.name),\r\n    arr => arr.length ? arr : 'No topping'],\r\n  choice: ['choice', item => item ? item : 'no choices'],\r\n}\r\n\r\nconst sendOrder = (dataBase, orders, authentication) => {\r\n  const newOrder = orders.map(projection(rulesData))\r\n  dataBase.ref('orders').push().set({\r\n    nameClient: authentication.displayName,\r\n    email: authentication.email,\r\n    order: newOrder\r\n  });\r\n}\r\n\r\nexport const OrderConfirm = () => {\r\n  const {\r\n    orders: { orders, setOrders },\r\n    auth: { authentication },\r\n    orderConfirm: { setOpenOrderConfirm },\r\n    firebaseDatabase\r\n  } = useContext(Context)\r\n\r\n  const dataBase = firebaseDatabase();\r\n  const total = orders.reduce((result, order) =>\r\n    totalPriceItems(order) + result, 0)\r\n\r\n  return (\r\n    <Overlay>\r\n      <Modal>\r\n        <OrderTitle>\r\n          {authentication.displayName}\r\n        </OrderTitle>\r\n        <Text>Осталось подтвердить</Text>\r\n        <Total>\r\n          <span>Итого</span>\r\n          <TotalPrice>{formatCurrency(total)}</TotalPrice>\r\n        </Total>\r\n        <ButtonCheckout onClick={() => {\r\n          sendOrder(dataBase, orders, authentication)\r\n          setOrders([]);\r\n          setOpenOrderConfirm(false)\r\n        }}>\r\n          Подтвердить\r\n        </ButtonCheckout>\r\n      </Modal>\r\n    </Overlay>\r\n  )\r\n\r\n}\r\n","import React from 'react';\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\n\r\nimport { NavBar }  from './components/navbar/NavBar';\r\nimport { Menu }  from './components/menu/Menu';\r\nimport { ModalItem }  from './components/modal/ModalItem';\r\nimport { GlobalStyle }  from './components/styles/GlobalStyle';\r\nimport { Order }  from './components/order/Order';\r\nimport { useOpenItem }  from './components/Hooks/useOpenItem';\r\nimport { useOrders }  from './components/Hooks/useOrders';\r\nimport { useAuth }  from './components/Hooks/useAuth';\r\nimport { useTitle }  from './components/Hooks/useTitle';\r\nimport { OrderConfirm }  from './components/order/OrderConfirm';\r\nimport { useOrderConfirm }  from './components/Hooks/UseOrderConfirm';\r\nimport { Context }  from './components/functions/context';\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAMyXrFNJwFYLYpzST5FHWJWXzh98NfjRw\",\r\n  authDomain: \"reactlearn-618ba.firebaseapp.com\",\r\n  databaseURL: \"https://reactlearn-618ba-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"reactlearn-618ba\",\r\n  storageBucket: \"reactlearn-618ba.appspot.com\",\r\n  messagingSenderId: \"581575122870\",\r\n  appId: \"1:581575122870:web:3cecea5a66d60bc8da6b17\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n\r\nfunction App() {\r\n  const auth = useAuth(firebase.auth);\r\n  const openItem = useOpenItem();\r\n  const orders = useOrders();\r\n  const orderConfirm = useOrderConfirm();\r\n\r\n\r\n  useTitle(openItem.openItem);\r\n\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      auth,\r\n      openItem,\r\n      orders,\r\n      orderConfirm,\r\n      firebaseDatabase: firebase.database\r\n    }}>\r\n      <GlobalStyle />\r\n      <NavBar />\r\n      <Order />\r\n\r\n      <Menu />\r\n      { openItem.openItem && <ModalItem />}\r\n      {orderConfirm.openOrderConfirm && <OrderConfirm />}\r\n\r\n    </Context.Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport function useAuth(authFirebase) {\r\n  const [authentication, setAuthentication ] = useState(null);\r\n\r\n\r\n\r\n  const auth = authFirebase();\r\n  const provider = new authFirebase.GoogleAuthProvider();\r\n\r\n  const logIn = () => auth.signInWithPopup(provider)\r\n\r\n  const logOut = () => auth.signOut()\r\n    .catch(err => console.error())\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        setAuthentication(user)\r\n      } else {\r\n        setAuthentication(null)\r\n      }\r\n    })\r\n\r\n  // eslint-disable-next-line\r\n  }, [auth, authentication]);\r\n\r\n  return {authentication, logIn, logOut} ;\r\n}","import { useState } from 'react';\r\n\r\nexport function useOpenItem() {\r\n  const [openItem, setOpenItem] = useState(null);\r\n  return { openItem, setOpenItem }\r\n\r\n}","import { useState } from 'react';\r\n\r\nexport function useOrders() {\r\n  const [orders, setOrders] = useState([]);\r\n  return { orders, setOrders };\r\n\r\n}","import { useState } from 'react';\r\n\r\nexport const useOrderConfirm = () => {\r\n  const [openOrderConfirm, setOpenOrderConfirm] = useState(false);\r\n  return { openOrderConfirm, setOpenOrderConfirm }\r\n}","import { useEffect } from 'react';\r\n\r\nexport const useTitle = openItem => {\r\n  useEffect(() =>{\r\n    document.title = openItem ? openItem.name : `MRDonald's`\r\n  }, [openItem]);\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}